{"ast":null,"code":"var _jsxFileName = \"/home/pablofdez/Desktop/RETRO_RepositorioMykell/frontProyectoRetro/src/EditUser/EditUser.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useNavigate } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport './EditUser.css';\nimport { useSelector } from 'react-redux';\nimport Loading from '../Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditUser() {\n  _s();\n\n  const datos = useSelector(d => d.userDatos);\n  const userToken = useSelector(s => s.user);\n  const navigate = useNavigate();\n  useEffect(() => {\n    !userToken && navigate('user/registre');\n  }, [userToken, navigate]);\n  const [name, setName] = useState(datos[0].username);\n  const [email, setEmail] = useState(datos[0].email);\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [address, setAddress] = useState(datos[0].location);\n  const [provinces, setProvinces] = useState(datos[0].province);\n  const [loading, setLoading] = useState(false);\n  const [avatar, setAvatar] = useState(false);\n  const [show, setShow] = useState(false);\n  const [show2, setShow2] = useState(false);\n  const [show3, setShow3] = useState(2);\n\n  const switchShow = e => {\n    e.preventDefault();\n    setShow(!show);\n  };\n\n  const switchShow2 = e => {\n    e.preventDefault();\n    setShow2(!show2);\n  };\n\n  const handlePhoto = async e => {\n    e.preventDefault();\n    setAvatar(e.target.files[0]);\n  };\n\n  const avatarURL = avatar && URL.createObjectURL(avatar);\n  const user = {};\n  user.username = name;\n  user.email = email;\n  user.location = address;\n  user.province = provinces;\n\n  const handleSubmit = async e => {\n    setLoading(true);\n    e.preventDefault();\n    const fd = new FormData();\n    fd.append('avatar', avatar);\n    fd.append('user', JSON.stringify(user));\n    const res = await fetch('http://localhost:3000/users/editUser', {\n      method: 'PUT',\n      body: fd,\n      headers: {\n        'Authorization': 'Bearer ' + (userToken === null || userToken === void 0 ? void 0 : userToken.token)\n      }\n    });\n\n    if (res.ok) {\n      const data = await res.json();\n      console.log(data);\n      setLoading(false);\n      alert('Cambios guardados');\n    } else {\n      console.log(res.status);\n      alert('Hubo un error' + res.statusText);\n      setLoading(false);\n    }\n  };\n\n  const handleSubmitPass = async e => {\n    setLoading(true);\n    e.preventDefault();\n\n    if (password && newPassword) {\n      console.log(password, newPassword);\n      const res = await fetch('http://localhost:3000/users/change/password', {\n        method: 'PATCH',\n        body: JSON.stringify({\n          \"currentPassword\": password,\n          \"passwordNew\": newPassword\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + (userToken === null || userToken === void 0 ? void 0 : userToken.token)\n        }\n      });\n\n      if (res.ok) {\n        setLoading(false);\n        alert('Contraseña cambiadas');\n      } else {\n        console.log(res.status);\n        alert('Hubo un error' + res.statusText);\n        setLoading(false);\n      }\n    }\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"datauser-edit\",\n    children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 46\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 15\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"datauser-edit\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-edit\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"casita\",\n        to: '/',\n        title: \"P\\xE0gina principal\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u2302 Volver al home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 68\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-edit\",\n      children: [show3 !== 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edituser-userphoto\",\n        children: [avatarURL ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"edituser-avatar-photo\",\n          src: avatarURL,\n          alt: \"avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"edituser-avatar-photo\",\n          src: `http://localhost:3000${datos[0].avatar.replace('./', '/')}`,\n          alt: datos[0].username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            type: \"button\",\n            className: \"edituser-changephoto-button\",\n            children: \"Cambiar foto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handlePhoto,\n            accept: \"image/x-png,image/gif,image/jpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 24\n      }, this), show3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [show3 !== 2 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"back-to-my-profile\",\n          onClick: e => setShow3(2),\n          children: \" \\u270E Volver a Mi Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-edit\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Nombre:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              value: name,\n              required: true,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              value: email,\n              type: \"email\",\n              required: true,\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Ciudad:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"address\",\n              value: address,\n              required: true,\n              onChange: e => setAddress(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"provinces\",\n              value: provinces,\n              required: true,\n              onChange: e => setProvinces(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: provinces\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"coru\\xF1a\",\n                children: \"A Coru\\xF1a/La Coru\\xF1a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"araba\",\n                children: \"Araba/Alava\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"albacete\",\n                children: \"Albacete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"alicante\",\n                children: \"Alicante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"almeria\",\n                children: \"Almer\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"asturias\",\n                children: \"Asturias\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"avila\",\n                children: \"\\xC1vila\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"badajoz\",\n                children: \"Badajoz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"barcelona\",\n                children: \"Barcelona\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bizkaia\",\n                children: \"Bizkaia/ Vizcaya\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"burgos\",\n                children: \"Burgos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"caceres\",\n                children: \"C\\xE1ceres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cadiz\",\n                children: \"C\\xE1diz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cantabria\",\n                children: \"Cantabria\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"castellon\",\n                children: \"Castell\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ciudadreal\",\n                children: \"Ciudad Real\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cordoba\",\n                children: \"C\\xF3rdoba\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cuenca\",\n                children: \"Cuenca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"girona\",\n                children: \"Girona/Gerona\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"granada\",\n                children: \"Granada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"guadalajara\",\n                children: \"Guadalajara\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"gipuzkoa\",\n                children: \"Gipuzkoa/Guip\\xFAzcoa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"huelva\",\n                children: \"Huelva\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"huesca\",\n                children: \"Huesca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"baleares\",\n                children: \"Islas Baleares\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"jaen\",\n                children: \"Ja\\xE9n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rioja\",\n                children: \"La Rioja\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"palmas\",\n                children: \"Las Palmas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"leon\",\n                children: \"Le\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"lleida\",\n                children: \"Lleida/ L\\xE9rida\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"lugo\",\n                children: \"Lugo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"madrid\",\n                children: \"Madrid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"malaga\",\n                children: \"M\\xE1laga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"murcia\",\n                children: \"Murcia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"navarra\",\n                children: \"Navarra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ourense\",\n                children: \"Ourense/ Orense\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"palencia\",\n                children: \"Palencia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pontevedra\",\n                children: \"Pontevedra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"salamanca\",\n                children: \"Salamanca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"tenerife\",\n                children: \"Santa Cruz de Tenerife\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"segovia\",\n                children: \"Segovia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sevilla\",\n                children: \"Sevilla\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"soria\",\n                children: \"Soria\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"tarragona\",\n                children: \"Tarragona\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"teruel\",\n                children: \"Teruel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"toledo\",\n                children: \"Toledo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"valencia\",\n                children: \"Valencia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"valladolid\",\n                children: \"Valladolid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"zamora\",\n                children: \"Zamora\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"zaragoza\",\n                children: \"Zaragoza\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"savedata-edit\",\n            children: \"Guardar datos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), show3 !== 3 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"edituser-change-password\",\n          onClick: e => setShow3(3),\n          children: \"\\u270E Cambiar contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Cambiando contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-edit\",\n            onSubmit: handleSubmitPass,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"*Contrase\\xF1a actual\", /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"password\",\n                value: password,\n                required: true,\n                type: show ? 'text' : 'password',\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"button-edit\",\n                onClick: switchShow,\n                children: show ? 'Ocultar' : 'Mostrar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"*Nueva Contrase\\xF1a\", /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"newPassword\",\n                value: newPassword,\n                required: true,\n                type: show2 ? 'text' : 'password',\n                onChange: e => setNewPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"button-edit\",\n                onClick: switchShow2,\n                children: show2 ? 'Ocultar' : 'Mostrar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"savedata-button\",\n              children: \"Cambiar Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditUser, \"xYZuQVIXSaQ3hy9pB0S9gnSRVIY=\", false, function () {\n  return [useSelector, useSelector, useNavigate];\n});\n\n_c = EditUser;\nexport default EditUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditUser\");","map":{"version":3,"sources":["/home/pablofdez/Desktop/RETRO_RepositorioMykell/frontProyectoRetro/src/EditUser/EditUser.js"],"names":["Link","useNavigate","React","useEffect","useState","useSelector","Loading","EditUser","datos","d","userDatos","userToken","s","user","navigate","name","setName","username","email","setEmail","password","setPassword","newPassword","setNewPassword","address","setAddress","location","provinces","setProvinces","province","loading","setLoading","avatar","setAvatar","show","setShow","show2","setShow2","show3","setShow3","switchShow","e","preventDefault","switchShow2","handlePhoto","target","files","avatarURL","URL","createObjectURL","handleSubmit","fd","FormData","append","JSON","stringify","res","fetch","method","body","headers","token","ok","data","json","console","log","alert","status","statusText","handleSubmitPass","replace","value"],"mappings":"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","sourcesContent":["import { Link, useNavigate } from 'react-router-dom'\nimport React, { useEffect, useState } from 'react'\nimport './EditUser.css'\nimport { useSelector } from 'react-redux'\nimport Loading from '../Loading'\n\n\nfunction EditUser() {\n\n  const datos = useSelector(d => d.userDatos)\n  const userToken = useSelector(s => s.user)\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    !userToken && navigate('user/registre')\n  }, [userToken, navigate])\n\n  const [name, setName] = useState(datos[0].username)\n  const [email, setEmail] = useState(datos[0].email)\n  const [password, setPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [address, setAddress] = useState(datos[0].location)\n  const [provinces, setProvinces] = useState(datos[0].province)\n  const [loading, setLoading] = useState(false)\n  const [avatar, setAvatar] = useState(false)\n  const [show, setShow] = useState(false)\n  const [show2, setShow2] = useState(false)\n  const [show3, setShow3] = useState(2)\n\n  const switchShow = (e) => {\n    e.preventDefault()\n    setShow(!show)\n  }\n  const switchShow2 = (e) => {\n    e.preventDefault()\n    setShow2(!show2)\n  }\n\n  const handlePhoto = async e=> {\n    e.preventDefault()\n    setAvatar(e.target.files[0])\n  }\n  const avatarURL= avatar && URL.createObjectURL(avatar)\n\n  const user = {}\n    user.username = name\n    user.email = email\n    user.location = address\n    user.province = provinces\n\n    const handleSubmit = async e => {\n      setLoading(true)\n      e.preventDefault()\n\n      const fd = new FormData()\n      fd.append('avatar', avatar)\n      fd.append('user', JSON.stringify(user))\n      const res = await fetch('http://localhost:3000/users/editUser', {\n        method: 'PUT',\n        body: fd,\n        headers: {'Authorization': 'Bearer ' + userToken?.token}\n      })\n      if (res.ok) {\n        const data = await res.json()\n        console.log(data)\n        setLoading(false)\n        alert('Cambios guardados')\n      } else {\n        console.log(res.status)\n        alert('Hubo un error' + res.statusText)\n        setLoading(false)\n      }\n    }\n    const handleSubmitPass = async e => {\n      setLoading(true)\n      e.preventDefault()\n      if (password && newPassword) {\n          console.log(password, newPassword)\n          const res = await fetch('http://localhost:3000/users/change/password', {\n          method: 'PATCH',\n          body: JSON.stringify({\"currentPassword\": password, \"passwordNew\": newPassword}),\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + userToken?.token\n          }\n        })\n        if (res.ok) {\n          setLoading(false)\n          alert('Contraseña cambiadas')\n        } else {\n          console.log(res.status)\n          alert('Hubo un error' + res.statusText)\n          setLoading(false)\n        }\n      }\n    }\n\n  return (\n    loading ? <div className=\"datauser-edit\"><Loading /></div> :\n\n    <div className=\"datauser-edit\">\n\n      <div className='title-edit'>\n        <Link className='casita' to={'/'} title='Pàgina principal'><h4>⌂ Volver al home</h4></Link>\n      </div>\n\n      <div className='info-edit'>\n\n      { show3 !== 3 && <div className='edituser-userphoto'>\n            {avatarURL ?\n            <img className='edituser-avatar-photo' src={avatarURL} alt='avatar'/>\n            :\n            <img className='edituser-avatar-photo' src={`http://localhost:3000${datos[0].avatar.replace('./', '/')}`} alt={datos[0].username} />}\n            <label>\n            <div type='button' className='edituser-changephoto-button'>Cambiar foto</div>\n            <input type=\"file\" onChange={handlePhoto} accept=\"image/x-png,image/gif,image/jpeg\" />\n            </label>\n        </div> }\n\n        {show3 &&\n        <div>\n          { show3 !== 2 ?\n            <p className=\"back-to-my-profile\" onClick={(e) => setShow3(2)}> ✎ Volver a Mi Perfil</p>\n            :\n            <form className='form-edit' onSubmit={handleSubmit}>\n              <label>\n              Nombre:\n              <input name=\"name\" value={name} required onChange={e => setName(e.target.value)}></input>\n              </label>\n              <label>\n              Email:\n              <input name=\"email\" value={email} type=\"email\" required onChange={e => setEmail(e.target.value)}></input>\n              </label>\n              <label>\n              Ciudad:\n              <input name=\"address\" value={address} required onChange={e => setAddress(e.target.value)}></input>\n              </label>\n              <label>\n              \n                <select name=\"provinces\" value={provinces} required onChange={e => setProvinces(e.target.value)}>\n                  <option value=''>{provinces}</option>\n                  <option value=\"coruña\">A Coruña/La Coruña</option>\n                  <option value=\"araba\">Araba/Alava</option>\n                  <option value=\"albacete\">Albacete</option>\n                  <option value=\"alicante\">Alicante</option>\n                  <option value=\"almeria\">Almería</option>\n                  <option value=\"asturias\">Asturias</option>\n                  <option value=\"avila\">Ávila</option>\n                  <option value=\"badajoz\">Badajoz</option>\n                  <option value=\"barcelona\">Barcelona</option>\n                  <option value=\"bizkaia\">Bizkaia/ Vizcaya</option>\n                  <option value=\"burgos\">Burgos</option>\n                  <option value=\"caceres\">Cáceres</option>\n                  <option value=\"cadiz\">Cádiz</option>\n                  <option value=\"cantabria\">Cantabria</option>\n                  <option value=\"castellon\">Castellón</option>\n                  <option value=\"ciudadreal\">Ciudad Real</option>\n                  <option value=\"cordoba\">Córdoba</option>\n                  <option value=\"cuenca\">Cuenca</option>\n                  <option value=\"girona\">Girona/Gerona</option>\n                  <option value=\"granada\">Granada</option>\n                  <option value=\"guadalajara\">Guadalajara</option>\n                  <option value=\"gipuzkoa\">Gipuzkoa/Guipúzcoa</option>\n                  <option value=\"huelva\">Huelva</option>\n                  <option value=\"huesca\">Huesca</option>\n                  <option value=\"baleares\">Islas Baleares</option>\n                  <option value=\"jaen\">Jaén</option>\n                  <option value=\"rioja\">La Rioja</option>\n                  <option value=\"palmas\">Las Palmas</option>\n                  <option value=\"leon\">León</option>\n                  <option value=\"lleida\">Lleida/ Lérida</option>\n                  <option value=\"lugo\">Lugo</option>\n                  <option value=\"madrid\">Madrid</option>\n                  <option value=\"malaga\">Málaga</option>\n                  <option value=\"murcia\">Murcia</option>\n                  <option value=\"navarra\">Navarra</option>\n                  <option value=\"ourense\">Ourense/ Orense</option>\n                  <option value=\"palencia\">Palencia</option>\n                  <option value=\"pontevedra\">Pontevedra</option>\n                  <option value=\"salamanca\">Salamanca</option>\n                  <option value=\"tenerife\">Santa Cruz de Tenerife</option>\n                  <option value=\"segovia\">Segovia</option>\n                  <option value=\"sevilla\">Sevilla</option>\n                  <option value=\"soria\">Soria</option>\n                  <option value=\"tarragona\">Tarragona</option>\n                  <option value=\"teruel\">Teruel</option>\n                  <option value=\"toledo\">Toledo</option>\n                  <option value=\"valencia\">Valencia</option>\n                  <option value=\"valladolid\">Valladolid</option>\n                  <option value=\"zamora\">Zamora</option>\n                  <option value=\"zaragoza\">Zaragoza</option>\n                  </select>\n              </label>\n              <button className='savedata-edit'>Guardar datos</button>\n          </form>}\n\n          { show3 !== 3 ?\n          <p className=\"edituser-change-password\" onClick={(e) => setShow3(3)}>✎ Cambiar contraseña</p>\n          :\n          <fieldset>\n            <legend>Cambiando contraseña</legend>\n            <form className='form-edit' onSubmit={handleSubmitPass}>\n              <label>\n                  *Contraseña actual\n                  <input name=\"password\" value={password} required type={show ? 'text' : 'password'}  onChange={e => setPassword(e.target.value)}></input>\n                  <span className='button-edit' onClick={switchShow}>{show ? 'Ocultar' : 'Mostrar'}</span>\n                  </label>\n                  <label >\n                  *Nueva Contraseña\n                  <input name=\"newPassword\" value={newPassword} required type={show2 ? 'text' : 'password'}  onChange={e => setNewPassword(e.target.value)}></input>\n                  <span className='button-edit' onClick={switchShow2}>{show2 ? 'Ocultar' : 'Mostrar'}</span>\n              </label>\n              <button className='savedata-button'>Cambiar Contraseña</button>\n            </form>\n          </fieldset>}\n        </div>}\n      </div>\n    </div>\n  )\n}\n\nexport default EditUser"]},"metadata":{},"sourceType":"module"}