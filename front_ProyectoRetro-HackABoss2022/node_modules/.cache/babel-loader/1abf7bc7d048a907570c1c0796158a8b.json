{"ast":null,"code":"var _jsxFileName = \"/home/pablofdez/Desktop/RETRO_RepositorioMykell/frontProyectoRetro/src/MyArticles/MyArticles.js\",\n    _s = $RefreshSig$();\n\nimport useFetch from \"fetch-suspense\";\nimport { Suspense, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Loading from \"../Loading\";\nimport './MyArticles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyArticles() {\n  _s();\n\n  var _misArticulos;\n\n  const user = useSelector(s => s.user);\n  const navigate = useNavigate();\n  const opts = {};\n  useEffect(() => {\n    !user && navigate('/');\n  }, [user, navigate]);\n\n  if (user !== null && user !== void 0 && user.token) {\n    opts.headers = {\n      'Authorization': 'Bearer ' + user.token\n    };\n  }\n\n  let misArticulos;\n  misArticulos = useFetch('http://localhost:3000/articles/onSales', opts);\n  if (!(user !== null && user !== void 0 && user.token)) misArticulos = undefined;\n\n  const handleDelete = async _ref => {\n    let {\n      e,\n      id\n    } = _ref;\n    e.preventDefault();\n    const res = await fetch('http://localhost:3000/articles/' + id, {\n      method: 'DELETE',\n      headers: {\n        Authorization: 'Bearer ' + (user === null || user === void 0 ? void 0 : user.token)\n      }\n    });\n\n    if (res.ok) {\n      window.location.reload(true);\n      alert('ARTICULO BORRADO');\n    } else {\n      console.log(res);\n      alert('UPSS INTENTALO MAS TARDE /' + res.status + '/' + res.statusText);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myarticles\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"myarticles-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Mis Anuncios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: '/user/article/create',\n          children: \"Crear Nuevo Anuncio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"myarticles-casita\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          class: \"casita\",\n          title: \"P\\xE1gina principal\",\n          href: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2302 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 73\n          }, this), \"Volver a Home\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-grid\",\n      children: !misArticulos.length ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"NO TIENES PRODUCTOS EN VENTA, CREA UN NUEVO ANUNCIO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this) : (_misArticulos = misArticulos) === null || _misArticulos === void 0 ? void 0 : _misArticulos.map(articulo => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myarticles-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"myarticles-image\",\n          style: {\n            backgroundImage: `url(${`http://localhost:3000${articulo.photo.replace('./', '/')}`})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"myarticles-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"myarticles-name\",\n            children: articulo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"myarticles-price\",\n            children: [articulo.price, \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"myarticles-description\",\n            children: articulo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            clasName: \"myarticles-card-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"modify myarticles-modify\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/user/article/modify/${articulo.id}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCDD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 125\n                }, this), \" Modificar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 76\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"delete myarticles-delete\",\n              onClick: e => handleDelete({\n                e,\n                id: articulo.id\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDDD1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 127\n              }, this), \" Eliminar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)]\n      }, articulo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MyArticles, \"qFhLEx8Jfeyba185/Hyd1PB7k3U=\", false, function () {\n  return [useSelector, useNavigate, useFetch];\n});\n\n_c = MyArticles;\n\nconst MyArticlesWrapper = () => /*#__PURE__*/_jsxDEV(Suspense, {\n  fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 23\n  }, this),\n  children: /*#__PURE__*/_jsxDEV(MyArticles, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 93,\n  columnNumber: 3\n}, this);\n\n_c2 = MyArticlesWrapper;\nexport default MyArticlesWrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyArticles\");\n$RefreshReg$(_c2, \"MyArticlesWrapper\");","map":{"version":3,"sources":["/home/pablofdez/Desktop/RETRO_RepositorioMykell/frontProyectoRetro/src/MyArticles/MyArticles.js"],"names":["useFetch","Suspense","useEffect","useSelector","Link","useNavigate","Loading","MyArticles","user","s","navigate","opts","token","headers","misArticulos","undefined","handleDelete","e","id","preventDefault","res","fetch","method","Authorization","ok","window","location","reload","alert","console","log","status","statusText","length","map","articulo","backgroundImage","photo","replace","name","price","description","MyArticlesWrapper"],"mappings":"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","sourcesContent":["import  useFetch  from \"fetch-suspense\"\nimport { Suspense, useEffect } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport Loading from \"../Loading\"\nimport './MyArticles.css'\n\nfunction MyArticles () {\n    const user = useSelector(s => s.user)\n    const navigate = useNavigate()\n    const opts = {}\n\n\n    useEffect(() => {\n        !user && navigate('/')\n      }, [user, navigate])\n\n    if (user?.token) {\n        opts.headers = { 'Authorization': 'Bearer ' + user.token }\n    }\n\n    let misArticulos\n    misArticulos = useFetch('http://localhost:3000/articles/onSales', opts)\n    if (!user?.token) misArticulos = undefined\n\n\n    const handleDelete = async ({e, id}) => {\n        e.preventDefault()\n        const res = await fetch('http://localhost:3000/articles/' + id, {\n            method: 'DELETE',\n            headers:{Authorization: 'Bearer ' + user?.token}\n        })\n        if (res.ok) {\n            window.location.reload(true);\n            alert('ARTICULO BORRADO')\n          } else {\n            console.log(res)\n            alert('UPSS INTENTALO MAS TARDE /' + res.status + '/' + res.statusText)\n          }\n    }\n\n    return (\n        <div className=\"myarticles\">\n\n            <div className=\"myarticles-header\">\n                <h1>Mis Anuncios</h1>\n\n                <button><Link to={'/user/article/create'}>Crear Nuevo Anuncio</Link></button>\n\n                <div class=\"myarticles-casita\">\n                    <a class=\"casita\" title=\"Página principal\" href=\"/\"><span>⌂ </span>Volver a Home</a>\n                </div>\n            </div>\n\n            <div className=\"my-grid\">\n                {\n                !misArticulos.length ?\n                <h1>NO TIENES PRODUCTOS EN VENTA, CREA UN NUEVO ANUNCIO</h1>\n                :\n                misArticulos?.map(articulo =>\n\n                    <div key={articulo.id} className=\"myarticles-card\">\n\n                        <div className=\"myarticles-image\" style={{backgroundImage: `url(${`http://localhost:3000${articulo.photo.replace('./', '/')}`})`}}></div>\n\n                        <div className=\"myarticles-info\">\n\n                            <h3 className=\"myarticles-name\">{articulo.name}</h3>\n\n                            <h4 className=\"myarticles-price\">{articulo.price} €</h4>\n\n                            <p className=\"myarticles-description\" >{articulo.description}</p>\n\n                            <div clasName=\"myarticles-card-buttons\">\n\n                                <span className=\"modify myarticles-modify\"><Link to={`/user/article/modify/${articulo.id}`}><span>📝</span> Modificar</Link></span>\n                                <br/><br/>\n\n                                <span className=\"delete myarticles-delete\" onClick={(e) => handleDelete({e,id: articulo.id})}><span>🗑</span> Eliminar</span>\n\n                            </div>\n\n                        </div>\n                    </div>\n                    )}\n            </div>\n\n        </div>\n    )\n}\n\nconst MyArticlesWrapper = () =>\n  <Suspense fallback={<Loading />}>\n    <MyArticles />\n  </Suspense>\n\nexport default MyArticlesWrapper"]},"metadata":{},"sourceType":"module"}